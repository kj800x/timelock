name: timelock
version: "1.0"
author: Kevin J. <kevin@kj800x.com>
about: Cryptography with proof of computation requirements
subcommands:
  - work:
      about: Generate proof of work for puzzle creation
      args:
        - parallelism:
            short: p
            help: Sets number of threads to use
            default_value: "4"
        - target:
            short: t
            help: Sets target number of iterations per thread (0 for unlimited)
            default_value: "0"
        - work:
            short: w
            help: Set the workfile to use
            default_value: "timelock.work"

  - puzzle:
      about: Convert work to a puzzle
      args:
        - work:
            short: w
            help: Set the workfile to use
            default_value: "timelock.work"
        - puzzle:
            short: z
            help: Set the puzzlefile to use
            default_value: "timelock.puzzle"

  - solve:
      about: Solve a puzzle
      args:
        - puzzle:
            short: z
            help: Set the puzzlefile to use
            default_value: "timelock.puzzle"
        - work:
            short: w
            help: Set the workfile to use
            default_value: "timelock.work"

  - encrypt:
      about: Encrypt a file
      args:
        - INPUT:
            help: Set the file to encrypt
            required: true
            index: 1
        - OUTPUT:
            help: Set where to write the encrypted file
            required: true
            index: 2
        - work:
            short: w
            help: Set the workfile to use
            default_value: "timelock.work"

  - decrypt:
      about: Decrypt a file
      args:
        - INPUT:
            help: Set the file to decrypt
            required: true
            index: 1
        - OUTPUT:
            help: Set where to write the decrypted file
            required: true
            index: 2
        - work:
            short: w
            help: Set the workfile to use
            default_value: "timelock.work"

  - info:
      about: Determine encryption rate and predict time to solve
      args:
        - work:
            short: w
            help: Set the workfile to use
            default_value: "timelock.work"
        - puzzle:
            short: z
            help: Set the puzzlefile to use
            default_value: "timelock.puzzle"

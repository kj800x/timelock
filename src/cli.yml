name: timelock
version: "1.0"
author: Kevin J. <kevin@kj800x.com>
about: Cryptography with proof of computation requirements
subcommands:
  - work:
      about: Generate proof of work for puzzle creation
      args:
        - parallelism:
            short: p
            help: Sets number of threads to use
            default_value: "4"
        - OUTPUT:
            help: Sets the workfile to use
            default_value: "timelock.work"
            index: 1

  - puzzle:
      about: Convert work to a puzzle
      args:
        - INPUT:
            help: Set the workfile to use
            default_value: "timelock.work"
            index: 1
        - OUTPUT:
            help: Set the puzzlefile to write
            default_value: "timelock.puzzle"
            index: 2

  - solve:
      about: Solve a puzzle
      args:
        - INPUT:
            help: Set the puzzlefile to use
            default_value: "timelock.puzzle"
            index: 1
        - OUTPUT:
            help: Set the workfile to write
            default_value: "timelock.work"
            index: 2

  - encrypt:
      about: Encrypt a file
      args:
        - INPUT:
            help: Set the file to encrypt
            required: true
            index: 1
        - OUTPUT:
            help: Set where to write the encrypted file
            required: true
            index: 2
        - work:
            short: w
            help: Set the workfile to use
            default_value: "timelock.work"

  - decrypt:
      about: Decrypt a file
      args:
        - INPUT:
            help: Set the file to decrypt
            required: true
            index: 1
        - OUTPUT:
            help: Set where to write the decrypted file
            required: true
            index: 2
        - work:
            short: w
            help: Set the workfile to use
            default_value: "timelock.work"

  - info:
      about: Determine encryption rate and predict the stored computation in a puzzle or work
      args:
        - work:
            short: w
            help: Set the workfile to use
            default_value: "timelock.work"
        - puzzle:
            short: z
            help: Set the puzzlefile to use
            default_value: "timelock.puzzle"
